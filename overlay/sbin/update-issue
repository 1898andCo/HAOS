#!/bin/bash

. /etc/os-release
cat > /etc/issue << "COW"
   __ __            __                __  ___             ___
  / // /__ ________/ /__ ___  ___ ___/ / / _ | ___  ___  / (_)__ ____  _______
 / _  / _ `/ __/ _  / -_) _ \/ -_) _  / / __ |/ _ \/ _ \/ / / _ `/ _ \/ __/ -_)
/_//_/\_,_/_/  \_,_/\__/_//_/\__/\_,_/ /_/ |_/ .__/ .__/_/_/\_,_/_//_/\__/\__/
                                            /_/  /_/
  ____                    __  _             ____         __
 / __ \___  ___ _______ _/ /_(_)__  ___ _  / __/_ _____ / /____ __ _
/ /_/ / _ \/ -_) __/ _ `/ __/ / _ \/ _ `/ _\ \/ // (_-</ __/ -_)  ' \
\____/ .__/\__/_/  \_,_/\__/_/_//_/\_, / /___/\_, /___/\__/\__/_/_/_/
    /_/                           /___/      /___/
   ___                 ______ ___  ___    ____
  / _/______  __ _    <  ( _ ) _ \( _ )  / __/___  _______
 / _/ __/ _ \/  ' \   / / _  \_, / _  |  > _/_ _/ / __/ _ \
/_//_/  \___/_/_/_/  /_/\___/___/\___/  |_____/   \__/\___/
COW

cat >> /etc/issue << EOF
$PRETTY_NAME
Kernel \r on an \m (\l)

================================================================================
NIC              State          Address
$(ip -br addr show | grep -E -v '^(lo|flannel|cni|veth)')
================================================================================
EOF
cat >> /etc/issue << "EOF"

Welcome to HAOS (A k3OS derivative) (login with user: rancher)
EOF
