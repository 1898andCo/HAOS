#!/bin/bash

. /etc/os-release
cat > /etc/issue << "COW"
  ___ _      _   ___  ___
 | _ ) |    /_\ / _ \/ __|
 | _ \ |__ / _ \ (_) \__ \
 |___/____/_/ \_\___/|___/
  _  _             _                 _     _             _ _
 | || |__ _ _ _ __| |___ _ _  ___ __| |   /_\  _ __ _ __| (_)__ _ _ _  __ ___
 | __ / _` | '_/ _` / -_) ' \/ -_) _` |  / _ \| '_ \ '_ \ | / _` | ' \/ _/ -_)
 |_||_\__,_|_| \__,_\___|_||_\___\__,_| /_/ \_\ .__/ .__/_|_\__,_|_||_\__\___|
                                              |_|  |_|
COW

cat >> /etc/issue << EOF
$PRETTY_NAME
Kernel \r on an \m (\l)

================================================================================
NIC              State          Address
$(ip -br addr show | grep -E -v '^(lo|flannel|cni|veth)')
================================================================================
EOF
cat >> /etc/issue << "EOF"

Welcome to k3OS (login with user: rancher)
EOF
